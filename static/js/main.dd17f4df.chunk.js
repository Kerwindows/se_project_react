(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},18:function(e,t,a){e.exports=a.p+"static/media/logo.e49d1df3.svg"},19:function(e,t,a){e.exports=a.p+"static/media/hamburger-menu.5df9ea80.svg"},21:function(e,t,a){e.exports=a.p+"static/media/successful.e38b395c.svg"},22:function(e,t,a){e.exports=a.p+"static/media/unsuccessful.4072126c.svg"},25:function(e,t,a){e.exports=a.p+"static/media/edit.6bfdb354.svg"},26:function(e,t,a){e.exports=a.p+"static/media/Vector.d476a8b8.svg"},27:function(e,t){e.exports="data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAEsASwDASIAAhEBAxEB/8QAHAABAAMBAQEBAQAAAAAAAAAAAAUGBwQCAwEI/8QAOhABAAICAAIHBAkCBgMBAAAAAAECAwQFEQYSISIxQVETYXGBFDJCUpGxwdHhI6EkM2JjcvA0NXPS/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP6pAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABE8T49p6MzTre2yx9inl8Z8gSz8taKxztMRHvUbc6S72eZjFNcFP8ATHOfxlE5tjNntM5suTJM/etMg0i+9qY/r7OCvxvDzXiOlaeVdvXmfdkhmgDUseXHk/y8lLf8Z5vbK6zNJ50maz6xPJI6nG+Ia0x1di16x9nJ3oBoYrfD+lOHJMU3cc4bffr21/eFhxZaZscXxXrelu2LVnnEg9gAAAAAAAAAAAAAAAAAAAAAAAAAPnsZ8evhtlzXimOsc5mX7ny0wYb5ctorjpHOZnyZ/wAb4rl4nseddes9yn6z7wdfGukObcm2LVm2HX8Jnwtb9oQQAAAAAAAOzhvEdjh+Xra9+7z71J+rZxgNE4RxbBxLHzxz1MsfWxz4x8PWEiy7XzZNfNXLhvNMlZ5xML9wLitOJ63OeVc9Pr0/WPcCTAAAAAAAAAAAAAAAAAAAAAABH8e3voHDcmWs/wBSe5T4yCt9LOKTsbE6eG39HFPfmPtW/hXiZmZmZ7Z9QAAAAAAAAAAB08O3Mmjt0z4Z7a+MfejzhzANQ1NjHta+PNinnS8c4fVUehe9NcuTSvPdt36fHzhbgAAAAAAAAAAAAAAAAAAAAFN6a7PX3MWtE93FXrT8Z/j81yZvxrN7fi21fn2e0mI+Edn6A4gAAAAAAAAAAAAAfbS2Lau3hz18cdot8vNp1LRelbVnnFo5wytovR/N7bg2raZ5zFOrPy7P0BIAAAAAAAAAAAAAAAAAAAAMsy262W9p8ZtM/wB2pssyV6uS9fSZgHkAAAAAAAAAAAAABeeh1utwaI+7ktCjLz0Or1eD8/XJafyBOAAAAAAAAAAAAAAAAAAAAM24xi9hxXax+mSZj4T2/q0lS+met7Pfx7ER3cteUz74/jkCvAAAAAAAAAAAAAAND6O4vY8F1azHKZr1p+c81B1cFtnZxYKfWyWirTsdIx460r9WsREA9AAAAAAAAAAAAAAAAAAAAIzpFo/TuGZKVjnlp36fGPJJgMqE70q4ZOptTs4q/wBDLPOeX2benzQQAAAAAAAAAAAPvpa2Tc2ceDDHO95/CPUE70M0fabN9y8d3H3ae+0+P9vzXF8NHVx6epjwYo7tI5c/WfV9wAAAAAAAAAAAAAAAAAAAAAAfLa18e1r3w5q9bHeOUwz7jHDcvDdmaZIm2OfqX8rR+7Rnx3NXDuYLYdikXpb+3vgGYCX4zwPPw+ZyY+eXW+/Edtfj+6IAAAAAAAB0aOln3s0YtbHNrec+VfjIPjjx3y5K48dZte08orEdsyvvR/hFeG4Jtk5W2bx359I9IfvBeDYeG1688smxMduSY8PdCVAAAAAAAAAAAAAAAAAAAAAAAAAAAmOccp8EJxPo5qbU2vg/w+We3ux3Z+MJsBn+7wDf1ZmfZe2p97H2/wBvFF3ralures1t6WjlLVHjLhxZo5ZcdLx6WrEgy0aNfg/D7z3tTF8o5PNeCcNrPONTH8+cgzt2avDN3amIw6+SYn7Uxyj8ZaDh0tXD24tfFSfWKRzdAKrw/orETFt/Lz/28f6ysutr4dbFGPXx1x0jyrD6gAAAAAAAAAAAAAAAAAAAAAAAAAAAI3inGdXh0dXJbr5vLHXx+foCScG7xfS0pmM2es3j7Fe9KncS47ubszXr+xxT9jHPL8Z80UC17XS3tmNXW5x97Jb9IRubpJxHJz6uSmOP9FI/XmhgHfbjHELds7mX5TyeY4txCPDcz/O7iASuLj/Esc/+TNo9LViXdr9K9mvKNjBjyR5zWZrKuAL3p9JNDY5RktbBb0yR2fimaXrkrFqWi1Z8JiecSyt06W9s6V+trZrU9Y8p+MA0wVzhXSbFmmuPerGHJPZ14+rP7LFWYtWJrMTE+Ex5g/QAAAAAAAAAAAAAAAAAAAAAH5MxWJmZiIjtmZL2rSs2vMVrEc5mfJSOkHHL7trYNaZrrRPbPnf+AdnG+kkzNsHDrco8LZv/AM/uq9pm1ptaZm09szPm/AAAAAAAAAAABKcH41scOtFec5NfzxzPh8PRFgNM0N3BvYIy69+tXzjzifSYdLNOHb2fh+xGbBbl96s+Fo9JX/hfEMPEdaMuGeUx2WpPjWQdgAAAAAAAAAAAAAAAAAAK90r4rOth+iYLcs2SO9MfZr+8gjOk/GZ2sltTWt/QrPftH25/ZXgAAAAAAAAAAAAAAAdfDN7Lw/armwz7rV8rR6OQBp2jtYt3WpnwTzpaPnE+kvuoHR3ik8P2+rkn/DZJ5Xj7s+q/xMTETHbEgAAAAAAAAAAAAAAAA5+IbdNLTy7GTwpHZHrPlDN9nPk2djJmzTzveecp3pjv+22q6mOe5i7b++38QroAAAAAAAAAAAAAAAAAAC6dEeJTsa06ma3PLiju8/Ov8KW6NDavpbmLYx+NJ5zHrHnANNHjBlpnw0y4550vEWiXsAAAAAAAAAAAABz8Q2a6elmz38KV58vWfKHQrHTba6uHBq1ntvPXt8I8P7/kCp5L2y5LZLzzveZtM+95AAAAAAAAAAAAAAAAAAAAAFy6F7ntNXJq3nvYp61f+M/z+axs64Bt/Q+K4Mkzypaepb4T/wBhooAAAAAAAAAAAADPOkex9J4xsWiedaT7Ovwj+ea/bWWMGtlyz4UrNvwhmFrTa02t4zPOQfgAAAAAAAAAAAAAAAAAAAAADSuEbP0vhuvmn61qR1vjHZLNVz6FZ+vw/Lhme3Hfn8p/7ILEAAAAAAAAAAACK6UZfZcE2OXjflT8Z/Zn659NsnV4dhp97J+USpgAAAAAAAAAAAAAAAAAAAAAACxdCcvV38+Lyvj5/OJ/lXUt0Wv1OOYP9UWr/YF/AAAAAAAAAAABVunNu5p199p/JU1p6c/5mn8L/oqwAAAAAAAAAAAAAAAAAAAAAADu4Fbq8Y05/wByI/HscLr4R/7XT/8AtX8waUAAAAAD/9k="},28:function(e,t,a){e.exports=a.p+"static/media/plus-sign.b2fce4ac.svg"},29:function(e,t,a){e.exports=a.p+"static/media/Trash.7ee866f1.svg"},30:function(e,t,a){e.exports=a.p+"static/media/loader.141198e0.png"},33:function(e,t,a){e.exports=a(63)},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),A=a(16),c=a.n(A),o=(a(13),a(2)),i=a(1),l=a(32),s=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return r.a.createElement(i.b,null,function(){return a.loggedIn?r.a.createElement(t,a):r.a.createElement(i.a,{to:"./signin"})})},u=a(7),m=a(18),p=a.n(m),d=a(19),f=a.n(d),h=a(8),g=a.n(h),_=function(e){return r.a.createElement("div",{className:"header__button",onClick:function(){e.handleLogout(),e.setUserEmail("")}},"Logout")};var E=function(e){var t=Object(i.h)(),a=r.a.useState(!1),n=Object(o.a)(a,2),A=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("img",{src:p.a,className:"header__logo",alt:"Around React"}),r.a.createElement("img",{src:"".concat(A?g.a:f.a),className:"header__menu-button ".concat(A&&"header_menu-button-hide"),alt:"Open mobile menu",onClick:function(){c(!A)}})),r.a.createElement("div",{className:"header__menu ".concat(A&&"header_menu-open")},r.a.createElement("p",{className:"header__email ".concat(!e.userEmail&&"hide")},e.userEmail),e.loggedIn?r.a.createElement(_,{handleLogout:e.handleLogout,setUserEmail:e.setUserEmail}):r.a.createElement(u.b,{to:"/signin"===t.pathname?"signup":"signin",className:"header__button"},"/signin"===t.pathname?"Sign up":"Sign in"))))},b="https://register.nomoreparties.co",v=function(e){return fetch("".concat(b,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return e})},N=function(e){var t=Object(i.g)(),a=r.a.useState(""),n=Object(o.a)(a,2),A=n[0],c=n[1];return r.a.createElement("div",{className:"login"},r.a.createElement("h2",{className:"login__title"}," Log in"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=a.target[0].value,r=a.target[1].value;n&&r?function(e,t){return fetch("".concat(b,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then(function(e){return e.json()}).then(function(e){if(e.token)return localStorage.setItem("token",e.token),e}).catch(function(e){return console.log(e)})}(n,r).then(function(a){a.token&&(c(""),e.handleLogin(),e.handleEmail(n),t.push("/"))}).catch(function(e){return console.log(e)}):c("All fields are required")}},r.a.createElement("p",{className:"login__error"},A),r.a.createElement("input",{className:"login__email",type:"email",name:"email",placeholder:"Email",autoComplete:"on"}),r.a.createElement("input",{className:"login__password",type:"password",name:"password",placeholder:"Password",autoComplete:"on"}),r.a.createElement("button",{className:"login__button",type:"submit"},"Log in")),r.a.createElement("p",{className:"login__signin"},"Not a member yet?"," ",r.a.createElement(u.b,{to:"signup",className:"login__signin-link"},"Sign up here!")))},C=a(11),y=a(20),j=function(e){var t=r.a.useState({email:"",password:""}),a=Object(o.a)(t,2),n=a[0],A=a[1],c=function(e){A(Object(y.a)({},n,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"register"},r.a.createElement("h2",{className:"register__title"}," Sign up"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.target[1].value,n=t.target[0].value;a&&n&&function(e,t){return fetch("".concat(b,"/signup"),{method:"POST",headers:{Accept:"application/json",authorization:"388e1377-9ab5-4db7-9c4c-d98eb5bc0391","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})}(a,n).then(function(t){t.error?(console.log("res: ",t),e.setRegStatus(!1),e.handleInfoTooltip(!0)):(e.setRegStatus(!0),e.handleInfoTooltip(!0)),A({email:"",password:""})})},name:"Form"},r.a.createElement("input",{className:"register__email",type:"email",name:"email",placeholder:"Email",onChange:c,value:n.email,autoComplete:"on"}),r.a.createElement("input",{className:"register__password",type:"password",name:"password",placeholder:"Password",onChange:c,value:n.password,autoComplete:"on"}),r.a.createElement("button",{className:"register__button",type:"submit"},"Sign up")),r.a.createElement("p",{className:"register__signup"},"Already a member?"," ",r.a.createElement(u.b,{to:"signin",className:"register__signup-link"},"Log in here!")))};var O=function(e){return r.a.createElement("div",{id:e.name,className:"popup ".concat(e.isOpen&&"popup_opened")},r.a.createElement("div",{className:"popup__overlay"}),r.a.createElement("div",{className:"popup__form-card"},r.a.createElement("button",{onClick:e.onClose,"aria-label":"Close Form Button",type:"button",className:"popup__close-btn popup__".concat(e.name,"-close-btn")},r.a.createElement("img",{className:"popup__close-icon",src:g.a,alt:"close"})),r.a.createElement("div",{id:e.name,onSubmit:e.onSubmit,className:"popup__".concat(e.name,"-form popup__form"),name:"".concat(e.name,"Form")}," ",e.children,r.a.createElement("h2",{className:"popup__form-label",style:{textAlign:"center"}},e.title))))},S=a(21),k=a.n(S),x=a(22),P=a.n(x);var L=function(e){var t=P.a,a="Oops, something went wrong! Please try again.";return!0===e.regStatus&&(t=k.a,a="Success! You have now been registered."),r.a.createElement(O,{name:"registration-status",title:a,isOpen:e.isOpen,onClose:e.onClose},r.a.createElement("img",{className:"popup__register",src:t,alt:"Registration Success"}))},w=a(31),T=a(23),z=a(24),H=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(T.a)(this,e),this._baseUrl=a,this._headers=n}return Object(z.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"initialize",value:function(){return Promise.all([this.getUser(),this.getInitialCards()])}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(function(t){return e._handleResponse(t)})}},{key:"getUser",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(function(t){return e._handleResponse(t)})}},{key:"setUserInfo",value:function(e){var t=this,a=e.name,n=e.description;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:a,about:n})}).then(function(e){return t._handleResponse(e)})}},{key:"addCard",value:function(e){var t=this,a=e.name,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:a,link:n})}).then(function(e){return t._handleResponse(e)})}},{key:"removeCardLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(function(e){return t._checkRes(e)})}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(function(e){return t._handleResponse(e)})}},{key:"toggleLike",value:function(e,t){var a=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(function(e){return a._handleResponse(e)})}},{key:"updateProfilePic",value:function(e){var t=this,a=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:a})}).then(function(e){return t._handleResponse(e)})}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"388e1377-9ab5-4db7-9c4c-d98eb5bc0391","Content-Type":"application/json"}}),Z=r.a.createContext(),B=a(25),F=a.n(B),U=a(26),D=a.n(U),I=a(27),X=a.n(I),J=a(28),M=a.n(J),K=a(29),Y=a.n(K);var R=function(e){var t=e.card,a=e.onCardClick,n=e.onCardLike,A=e.onCardDelete,c=r.a.useContext(Z),o=t.owner._id===c._id,i="card__trash ".concat(o?"card__trash_visible":"card__trash_hidden"),l=t.likes.some(function(e){return e._id===c._id}),s="card__place-favorite ".concat(l?"card__place-favorite_active":"");return r.a.createElement("li",{className:"card"},r.a.createElement("img",{onClick:function(){a(t)},className:"card__image",src:t.link,alt:""}),r.a.createElement("button",{className:i,onClick:function(){A(t)},"aria-label":"Delete card"},r.a.createElement("img",{className:"card__trash-image",src:Y.a,alt:"Delete ".concat(t.name)})),r.a.createElement("div",{className:"card__place-title"},r.a.createElement("h2",{className:"card__place-name"},t.name),r.a.createElement("div",{className:"card__place-container"},r.a.createElement("button",{onClick:function(){n(t)},type:"button",className:s,"aria-label":"Like this"}),r.a.createElement("p",{className:"card__place-num"},t.likes.length))))};var W=function(e){var t=r.a.useContext(Z);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"main"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__image-container"},r.a.createElement("img",{className:"profile__image",src:t.avatar||X.a,alt:"Person"}),r.a.createElement("div",{className:"profile__image-edit"},r.a.createElement("button",{onClick:e.onEditAvatarClick,className:"profile__image-edit-btn"},r.a.createElement("img",{className:"profile__image-edit-icon",src:D.a,alt:"Edit icon"})))),r.a.createElement("div",{className:"profile__edit-column"},r.a.createElement("div",{className:"profile__edit"},r.a.createElement("h1",{className:"profile__edit-name"},t.name),r.a.createElement("button",{onClick:e.onEditProfileClick,className:"profile__edit-btn",type:"button"},r.a.createElement("img",{className:"profile__edit-icon",src:F.a,alt:"Edit button"}))),r.a.createElement("p",{className:"profile__about-me"},t.about)),r.a.createElement("button",{onClick:e.onAddPlaceClick,className:"profile__add-places-btn",type:"button"},r.a.createElement("img",{className:"profile__add-places-icon",src:M.a,alt:"Add place"}))),r.a.createElement("section",{className:"cards"},r.a.createElement("ul",{className:"cards__list"},e.cards.map(function(t){return r.a.createElement(R,{key:t._id,card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete})})))))};var Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2022 Around The U.S.")))};var G=function(e){return r.a.createElement("div",{id:e.name,className:"popup ".concat(e.isOpen&&"popup_opened")},r.a.createElement("div",{className:"popup__overlay"}),r.a.createElement("div",{className:"popup__form-card"},r.a.createElement("button",{onClick:e.onClose,"aria-label":"Close Form Button",type:"button",className:"popup__close-btn popup__".concat(e.name,"-close-btn")},r.a.createElement("img",{className:"popup__close-icon",src:g.a,alt:"close"})),r.a.createElement("form",{id:e.name,onSubmit:e.onSubmit,className:"popup__".concat(e.name,"-form popup__form"),name:"".concat(e.name,"Form")},r.a.createElement("h2",{className:"popup__form-label"},e.title),e.children,r.a.createElement("span",{className:"popup__input-type-error js-input-".concat(e.name,"-pic-input-error")}),r.a.createElement("button",{className:"popup__button",type:"submit"},e.submitText))))};var V=function(e){var t=r.a.useContext(Z),a=r.a.useState(""),n=Object(o.a)(a,2),A=n[0],c=n[1],i=r.a.useState(""),l=Object(o.a)(i,2),s=l[0],u=l[1];return r.a.useEffect(function(){c(t.name),u(t.about)},[t,e.isOpen]),r.a.createElement(G,{name:"edit",title:"Edit profile",submitText:e.isLoading?"Saving...":"Save",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:A,description:s})}},r.a.createElement("input",{id:"name-input",minLength:"2",maxLength:"40",className:"popup__form-input js-input-type-profile-name",name:"name",type:"text",placeholder:"Name",onChange:function(e){c(e.target.value)},value:A||"",required:!0}),r.a.createElement("span",{className:"popup__input-type-error name-input-error"}),r.a.createElement("input",{id:"about-input",minLength:"2",maxLength:"200",className:"popup__form-input js-input-type-profile-about-me",name:"about",type:"text",placeholder:"About Me",onChange:function(e){u(e.target.value)},value:s||"",required:!0}),r.a.createElement("span",{className:"popup__input-type-error about-input-error"}))};var q=function(e){var t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],A=a[1],c=r.a.useState(""),i=Object(o.a)(c,2),l=i[0],s=i[1];return r.a.useEffect(function(){A(""),s("")},[e.isOpen]),r.a.createElement(G,{name:"add-place",title:"Add Place",submitText:e.isLoading?"Saving...":"Create",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlaceSubmit({name:n,link:l})}},r.a.createElement("input",{id:"js-input-place-name-input",className:"popup__form-input js-input-type-place-name",name:"name",type:"text",minLength:"2",maxLength:"30",placeholder:"Title",onChange:function(e){A(e.target.value)},value:n,required:!0}),r.a.createElement("span",{className:"popup__input-type-error js-input-place-name-input-error"}),r.a.createElement("input",{id:"js-input-place-url-input",className:"popup__form-input js-input-type-place-url",name:"link",type:"url",placeholder:"Url Link",onChange:function(e){s(e.target.value)},value:l,required:!0}),r.a.createElement("span",{className:"popup__input-type-error js-input-place-url-input-error"}))};var $=function(e){var t=r.a.useRef(null);return r.a.createElement(G,{name:"edit-profile-pic",title:"Change profile picture",submitText:e.isLoading?"Saving...":"Save",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(a){a.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})}},r.a.createElement("input",{ref:t,id:"js-input-edit-profile-pic-input",className:"popup__form-input js-input-type-edit-profile-pic",name:"avatar",type:"url",placeholder:"Url Link",required:!0}))},ee=a(30),te=a.n(ee);var ae=function(e){var t=e.onClose,a=e.card;return r.a.createElement("div",{className:"popup ".concat(a&&"popup_opened")},r.a.createElement("div",{className:"popup__overlay"}),r.a.createElement("div",{className:"popup__form-card popup__form-image"},r.a.createElement("button",{onClick:t,"aria-label":"Close Form Button",className:"popup__close-btn popup__image-close-btn",type:"button"},r.a.createElement("img",{className:"popup__close-icon",src:g.a,alt:"close"})),r.a.createElement("img",{className:"popup__card-image-preview",src:a&&a.link||{loader:te.a},alt:a?a.name:""}),r.a.createElement("p",{className:"popup__card-image-preview-name"},a&&a.name)))};var ne=function(){var e=r.a.useState(""),t=Object(o.a)(e,2),a=t[0],n=t[1],A=r.a.useState(!1),c=Object(o.a)(A,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(o.a)(s,2),m=u[0],p=u[1],d=r.a.useState(!1),f=Object(o.a)(d,2),h=f[0],g=f[1],_=r.a.useState(null),E=Object(o.a)(_,2),b=E[0],v=E[1],N=r.a.useState([]),C=Object(o.a)(N,2),y=C[0],j=C[1],O=r.a.useState(!1),S=Object(o.a)(O,2),k=S[0],x=S[1];function P(){l(!1),p(!1),g(!1),v(null)}return r.a.useEffect(function(){H.getUser().then(function(e){n(e)}).catch(function(e){console.log(e)})},[]),r.a.useEffect(function(){H.getInitialCards().then(function(e){j(e)}).catch(function(e){console.log(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.Provider,{value:a},r.a.createElement("div",{className:"page"},r.a.createElement(W,{onEditProfileClick:function(){l(!0)},onAddPlaceClick:function(){p(!0)},onEditAvatarClick:function(){g(!0)},onCardClick:function(e){v(e)},cards:y,onCardLike:function(e){var t=e.likes.some(function(e){return e._id===a._id});H.toggleLike(e._id,t).then(function(t){j(function(a){return a.map(function(a){return a._id===e._id?t:a})})}).catch(function(e){console.log(e)})},onCardDelete:function(e){H.deleteCard(e._id).then(function(){j(function(t){return t.filter(function(t){return t._id!==e._id})})}).catch(function(e){console.log(e)})}}),r.a.createElement(Q,null)),r.a.createElement(V,{isOpen:i,onClose:P,onUpdateUser:function(e){x(!0),H.setUserInfo(e).then(function(e){n(e)}).then(function(){P()}).catch(function(e){console.log(e)}).finally(function(){x(!1)})},isLoading:k}),r.a.createElement(q,{isOpen:m,onClose:P,onAddPlaceSubmit:function(e){x(!0),H.addCard(e).then(function(e){j([e].concat(Object(w.a)(y)))}).catch(function(e){console.log(e)}).then(function(){P()}).finally(function(){x(!1)})},isLoading:k}),r.a.createElement($,{isOpen:h,onClose:P,onUpdateAvatar:function(e){x(!0),H.updateProfilePic(e).then(function(e){n(e)}).then(function(){P()}).catch(function(e){console.log(e)}).finally(function(){x(!1)})},isLoading:k}),r.a.createElement(ae,{card:b,onClose:P})))};var re=function(){var e=Object(i.g)(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),A=a[0],c=a[1],l=r.a.useState(!1),u=Object(o.a)(l,2),m=u[0],p=u[1],d=r.a.useState(""),f=Object(o.a)(d,2),h=f[0],g=f[1],_=r.a.useState(!0),b=Object(o.a)(_,2),C=b[0],y=b[1];return Object(n.useEffect)(function(){if(localStorage.getItem("token")){var t=localStorage.getItem("token");v(t).then(function(t){t&&(c(!0),g(t.data.email),e.push("/"))})}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page"},r.a.createElement(E,{userEmail:h,loggedIn:A,handleLogout:function(){localStorage.removeItem("token"),c(!1)},setUserEmail:g})),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/signin"},r.a.createElement(N,{handleEmail:function(e){g(e)},handleLogin:function(){c(!0)}})),r.a.createElement(i.b,{path:"/signup"},r.a.createElement(L,{regStatus:C,isOpen:m,onClose:function(){p(!1)}}),r.a.createElement(j,{handleInfoTooltip:function(e){p(e)},setRegStatus:y})),r.a.createElement(i.b,{path:"/cards"},r.a.createElement(ne,null)),r.a.createElement(s,{path:"/",loggedIn:A,component:ne}),r.a.createElement(i.b,{exact:!0,path:"/"},A?r.a.createElement(i.a,{to:"/"}):r.a.createElement(i.a,{to:"/signin"}))))},Ae=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,64)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,A=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),A(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(re,null)))),Ae()},8:function(e,t,a){e.exports=a.p+"static/media/close-icon.9293aa8f.svg"}},[[33,3,2]]]);
//# sourceMappingURL=main.dd17f4df.chunk.js.map